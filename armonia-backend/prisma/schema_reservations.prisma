enum ReservationStatus {
  PENDING
  APPROVED
  REJECTED
  CANCELLED
  COMPLETED
}

model Reservation {
  id                Int             @id @default(autoincrement())
  commonAreaId      Int
  commonArea        CommonArea      @relation(fields: [commonAreaId], references: [id])
  userId            Int
  user              User            @relation(fields: [userId], references: [id])
  title             String
  description       String?
  startDateTime     DateTime
  endDateTime       DateTime
  status            ReservationStatus @default(PENDING)
  attendees         Int?
  requiresPayment   Boolean         @default(false)
  paymentAmount     Float?
  paymentStatus     String? // e.g., "PAID", "PENDING", "FAILED"
  rejectionReason   String?
  approvedById      Int?
  approvedBy        User?           @relation("ApprovedReservations", fields: [approvedById], references: [id])
  approvedAt        DateTime?
  cancellationReason String?
  cancelledAt       DateTime?
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt

  @@index([commonAreaId])
  @@index([userId])
  @@index([status])
  @@index([startDateTime])

  @@schema("tenant")
}
