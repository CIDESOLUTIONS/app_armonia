enum DocumentType {
  GENERAL
  FINANCIAL
  LEGAL
  ASSEMBLY
  REGULATION
  CONTRACT
  OTHER

  @@schema("tenant")
}

model Document {
  id          Int          @id @default(autoincrement())
  name        String
  description String?
  url         String
  type        DocumentType // e.g., 'GENERAL', 'FINANCIAL', 'LEGAL', 'ASSEMBLY'
  complexId   Int
  complex     ResidentialComplex @relation(fields: [complexId], references: [id])
  visibility  String       @default("public") // public, private, role-based
  expiryDate  DateTime?
  uploadedBy  Int
  uploader    User         @relation("CreatedDocuments", fields: [uploadedBy], references: [id])
  uploadedAt  DateTime     @default(now())

  @@index([type])
  @@index([uploadedBy])
  @@index([complexId])
  @@index([visibility])
}
